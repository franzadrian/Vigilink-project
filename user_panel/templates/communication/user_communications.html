{% extends 'dashboard/base.html' %}

{% block title %}Communications - VigiLink{% endblock %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'communication/css/user_communication.css' %}">
{% endblock %}

{% block content %}
<!-- Sidebar Overlay -->
<div id="sidebarOverlay" class="sidebar-overlay"></div>
<!-- Chat Content -->
<div class="chat-content">
  <!-- User List -->
  <div id="user-list" class="user-list">
    <div class="user-list-search">
      <div class="search-wrapper">
        <i data-lucide="search" class="search-icon"></i>
        <input type="text" id="user-search" placeholder="Search conversations..." class="search-input">
      </div>
    </div>
    
    <div class="users-container">
      <!-- Users will be dynamically populated -->
    </div>
  </div>

  <!-- Chat Messages -->
  <div id="chat-messages" class="chat-messages hidden">
    <div class="messages-container">
      <div id="messages-list" class="messages-list">
        <!-- Messages will be dynamically populated -->
      </div>
    </div>
    
    <!-- Message Input -->
    <div class="message-input-container">
      <form id="message-form" class="message-form">
        <div class="input-wrapper">
          <input type="text" id="message-input" placeholder="Type a message..." maxlength="1000" class="message-input">
          <div class="input-actions">
            <button type="button" class="input-btn">
              <i data-lucide="paperclip"></i>
            </button>
            <button type="button" class="input-btn">
              <i data-lucide="smile"></i>
            </button>
          </div>
        </div>
        <button type="submit" id="send-btn" class="send-btn">
          <i data-lucide="send"></i>
        </button>
      </form>
    </div>
  </div>

  <!-- Welcome Screen -->
  <div id="welcome-screen" class="welcome-screen">
    <div class="welcome-content">
      <div class="welcome-icon">
        <i data-lucide="shield" class="welcome-shield-icon"></i>
      </div>
      <div class="welcome-text">
        <h3>Welcome to VigiLink Communications</h3>
        <p>Select a user to start a conversation</p>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'communication/js/user_communication.js' %}"></script>
{% endblock %}