services:
  - type: web
    name: vigilink
    env: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    plan: free  # Free plan - upgrade to 'starter', 'standard', or 'pro' for better performance
    healthCheckPath: /
    envVars:
      - key: DJANGO_SECRET_KEY
        sync: false  # Set this manually in Render dashboard (generate a strong secret key)
      - key: DJANGO_DEBUG
        value: "false"  # Must be string "false" (lowercase) for Django to recognize it
      - key: USE_POSTGRES
        value: true
      # Neon PostgreSQL Database Connection (set these manually in Render dashboard)
      - key: POSTGRES_DB
        sync: false  # Your Neon database name
      - key: POSTGRES_USER
        sync: false  # Your Neon database user
      - key: POSTGRES_PASSWORD
        sync: false  # Your Neon database password
      - key: POSTGRES_HOST
        sync: false  # Your Neon host (e.g., ep-xxx-pooler.region.aws.neon.tech)
      - key: POSTGRES_PORT
        value: "5432"
      - key: POSTGRES_SSLMODE
        value: require
      - key: DJANGO_ALLOWED_HOSTS
        value: vigilink-project.onrender.com  # Your actual Render URL
      - key: CSRF_TRUSTED_ORIGINS
        value: https://vigilink-project.onrender.com  # Your actual Render URL
      # Optional: Add other environment variables as needed (set manually in Render dashboard):
      # - key: EMAIL_HOST_USER
      #   sync: false
      # - key: EMAIL_HOST_PASSWORD
      #   sync: false
      # - key: DROPBOX_ACCESS_TOKEN
      #   sync: false
      # - key: DROPBOX_REFRESH_TOKEN
      #   sync: false
      # - key: DROPBOX_APP_KEY
      #   sync: false
      # - key: DROPBOX_APP_SECRET
      #   sync: false

# No database section needed - using external Neon PostgreSQL
